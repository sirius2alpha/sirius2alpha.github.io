<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>第一次全栈开发记录 | Sirius' Blog</title>
<meta name=keywords content="全栈,网站开发,vue"><meta name=description content="记录第一次全栈开发，主要记录了前端部分所遇到的问题"><meta name=author content="sirius1y"><link rel=canonical href=https://sirius1y.top/posts/notes/dev/dev-coursesystem/><link crossorigin=anonymous href=/assets/css/stylesheet.3551607c8eb1ef998f0b6c81d22f9f03dd2c3b8ecaf983e42c023e8d41e39f66.css integrity="sha256-NVFgfI6x75mPC2yB0i+fA90sO47K+YPkLAI+jUHjn2Y=" rel="preload stylesheet" as=style><link rel=icon href=https://sirius1y.top/images/icon.png><link rel=icon type=image/png sizes=16x16 href=https://sirius1y.top/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://sirius1y.top/favicon-32x32.png><link rel=apple-touch-icon href=https://sirius1y.top/apple-touch-icon.png><link rel=mask-icon href=https://sirius1y.top/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate hreflang=en href=https://sirius1y.top/posts/notes/dev/dev-coursesystem/><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--code-block-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><meta property="og:title" content="第一次全栈开发记录"><meta property="og:description" content="记录第一次全栈开发，主要记录了前端部分所遇到的问题"><meta property="og:type" content="article"><meta property="og:url" content="https://sirius1y.top/posts/notes/dev/dev-coursesystem/"><meta property="og:image" content="https://sirius1y.top/%3Clink%20or%20path%20of%20image%20for%20opengraph,%20twitter-cards%3E"><meta property="article:section" content="posts"><meta property="article:published_time" content="2023-11-14T00:00:00+00:00"><meta property="article:modified_time" content="2023-11-14T00:00:00+00:00"><meta property="og:site_name" content="Sirius' Blog"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://sirius1y.top/%3Clink%20or%20path%20of%20image%20for%20opengraph,%20twitter-cards%3E"><meta name=twitter:title content="第一次全栈开发记录"><meta name=twitter:description content="记录第一次全栈开发，主要记录了前端部分所遇到的问题"><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"https://sirius1y.top/posts/"},{"@type":"ListItem","position":2,"name":"第一次全栈开发记录","item":"https://sirius1y.top/posts/notes/dev/dev-coursesystem/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"第一次全栈开发记录","name":"第一次全栈开发记录","description":"记录第一次全栈开发，主要记录了前端部分所遇到的问题","keywords":["全栈","网站开发","vue"],"articleBody":"第一次全栈开发记录\n简介 这是数据库原理1的课程项目，做的是一个教务网站，功能主要包括：\n学生功能： (1) 选课功能；\n(2) 退课功能；\n(3) 成绩查询功能；\n(4) 课表查询功能。\n教师功能： (1) 查看开课详情；\n(2) 录入学生成绩。\n下面是主要用的技术桟，我在团队中主要负责的时技术选型、前端界面设计、前后端接口设计、数据库部分的设计、团队的代码管理。\n项目设计团队协作部分记录 git团队使用问题（分支管理、常用命令、git commit信息，git stash 本地仓库初始化，连接远程仓库 # 仓库初始化 git init # 设置远程仓库 git remote add origin https://github.com/sirius2alpha/CourseSystem.git # 检查是否设置成功 git remote -v # 输出 # origin\thttps://github.com/sirius2alpha/CourseSystem.git (fetch) # origin\thttps://github.com/sirius2alpha/CourseSystem.git (push) # 获取远程仓库的信息 git fetch origin # 设置远程上游分支 git branch --set-upstream-to=origin/main main # 或者可以采用 git branch -u / # 如果出现main分支不存在的情况，则用checkout命令切换到main分支上再继续 git checkout main # 检查上游分支设置 git branch -vv 工作区代码推送到远程仓库上 git add . git commit -m \"修改的信息\" git pull git push 关于commit提交信息的规范：https://www.conventionalcommits.org/zh-hans/v1.0.0/\n总结：\n(): 大致分为三个部分(使用空行分割):\n标题行: 必填, 描述主要修改类型和内容 主题内容: 描述为什么修改, 做了什么样的修改, 以及开发的思路等等 页脚注释: 放 Breaking Changes 或 Closed Issues type\ncommit 的类型：\nfeat: 新功能、新特性 fix: 修改 bug perf: 更改代码，以提高性能（在不影响代码内部行为的前提下，对程序性能进行优化） refactor: 代码重构（重构，在不影响代码内部行为、功能下的代码修改） docs: 文档修改 style: 代码格式修改, 注意不是 css 修改（例如分号修改） test: 测试用例新增、修改 build: 影响项目构建或依赖项修改 revert: 恢复上一次提交 ci: 持续集成相关文件修改 chore: 其他修改（不在上述类型中的修改） release: 发布新版本 workflow: 工作流相关文件修改 scope\ncommit 影响的范围, 比如: route, component, utils, build…\nsubject\ncommit 的概述\nbody\ncommit 具体修改内容, 可以分为多行.\nfooter\n一些备注, 通常是 BREAKING CHANGE 或修复的 bug 的链接.\n分支切换 # 切换到某一次的提交记录上 git checkout [提交的sha256] # 切换到另一分支上 git checkout [另外一个分支名字] # 也可以用git switch来进行切换 # git stash 是用于暂存工作目录中的更改的 Git 命令，以便你可以切换到其他分支或执行其他操作。 git stash # 暂存更改 git stash list # 列出所有的 stash git stash apply # 应用最新的 stash git stash save \"你的 stash 描述\" # 并应用特定的 stash： git stash apply stash@{2} # 请记住，stash 是一种临时保存更改的方法，你可以根据需要应用或丢弃 stash。 要舍弃本地的所有更改并与远程仓库保持同步 确保当前分支上没有未提交的更改：\ngit reset --hard HEAD 这将取消所有本地的未提交更改，将工作目录和暂存区恢复到最近的一次提交状态。\n拉取远程仓库的最新更改：\ngit pull origin \u003c分支名称\u003e 请将 \u003c分支名称\u003e 替换为你想要同步的远程分支的名称。这将获取远程仓库的最新更改并将其合并到你的本地分支。\n提交到远程仓库上时进行整理 git rebase -i HEAD~n 在这里，n 是你想要整理的提交数量。然后，你可以合并、编辑或删除提交。\n请注意，使用 rebase 可能会改写提交历史，因此只有在你尚未将提交推送到远程仓库或你知道如何处理已推送更改时才应使用。如果你已经将更改推送到远程仓库，使用 rebase 可能会导致问题，因为它修改了提交的哈希值。\nRESTful接口设计 前后端接口设计此次采用的时RESTful接口设计，常用的方法时GRT，POST，DELETE。API文档管理和测试用的FOXAPI平台，使用体验还行，基本的功能都能满足。下次可以试一下postman，swimm，readme等其他api管理和测试平台。\n这是一个使用axios.get方法的例子，查询参数是放在params中。\nasync queryCourses() { const apiUrl = `${this.host}/api/courses`; const queryParams = { .\t..... }; await axios.get(apiUrl, { params: queryParams }) .then(response =\u003e { ...... }, error =\u003e { ...... }) }, 使用axios.post的例子，请求体直接放在方法里面就可以。\nconst requestBody = []; this.selectedCourses.forEach((course) =\u003e { requestBody.push({ course_id: course.course_id, course_name: course.course_name, teacher_id: course.teacher_id, teacher_name: course.teacher_name, capacity: course.capacity, selected_number: course.selected_number, time: course.time, }); }); console.log(\"选课请求发送的 requestBody\", requestBody); const apiUrl = `${this.host}/api/students/${this.userId}/courses`; const response = await axios.post(apiUrl, requestBody); 后端在接收get请求和post请求的时候对传递参数的解析方法是不一样的，get方法要从params中获取，post方法就直接从body中读取。\n// GET方法 @GetMapping(\"/students/{userId}/courses\") public Result selectedclass(@PathVariable(\"userId\") String userId) throws JsonProcessingException { List\u003cSelectedCourses\u003e selectno = selectedCoursesService.lambdaQuery() .eq(SelectedCourses::getStudentId, userId).list(); if (selectno.size() == 0) return Result.fail(); List\u003cString\u003e response = new ArrayList\u003c\u003e(); Integer no; int courseid, teacherid; Courses courses = new Courses(); for (int i = 0; i \u003c selectno.size(); i++) { no = selectno.get(i).getCurrentCourseId(); List\u003cCurrentCourses\u003e list = currentCoursesService.lambdaQuery() .eq(CurrentCourses::getNo, no).list(); courseid = list.get(0).getCourseId(); courses.setCourse_id(courseid); List\u003cCoursePlan\u003e coursesname = coursePlanService.lambdaQuery() .eq(CoursePlan::getCourseId, courseid).list(); courses.setCourse_name(coursesname.get(0).getCourseName()); teacherid = list.get(0).getTeacherId(); courses.setTeacher_id(teacherid); List\u003cTeachers\u003e teachersname = teachersService.lambdaQuery() .eq(Teachers::getId, teacherid).list(); courses.setTeacher_name(teachersname.get(0).getName()); courses.setCapacity(50); no = list.get(0).getNo(); List\u003cSelectedCourses\u003e selectno1 = selectedCoursesService.lambdaQuery() .eq(SelectedCourses::getCurrentCourseId, no).list(); courses.setSelected_number(selectno1.size()); courses.setTime(list.get(0).getTime()); ObjectMapper mapper = new ObjectMapper(); String json = mapper.writeValueAsString(courses); response.add(i, json); } return selectno.size() \u003e 0 ? Result.suc(response, selectno.size()) : Result.fail(); } // POST方法 @PostMapping(\"/students/{userId}/courses\") public Result selectedclass(@PathVariable(\"userId\") String userid, @RequestBody List\u003cCourses\u003e courses) { Integer i = null; if (userid != null) { i = Integer.valueOf(userid); } for (int j = 0; j \u003c courses.size(); j++) { List\u003cSelectedCourses\u003e selectno = selectedCoursesService.lambdaQuery() .eq(SelectedCourses::getStudentId, userid).list(); for (int k = 0; k \u003c selectno.size(); k++) { List\u003cCurrentCourses\u003e curtime = currentCoursesService.lambdaQuery() .eq(CurrentCourses::getNo, selectno.get(k).getCurrentCourseId()).list(); // 重复选择同一门课 if (Objects.equals(curtime.get(0).getCourseId(), courses.get(j).getCourse_id())) return Result.fail(\"已选择该课程\"); // 选课时间冲突 else if (Objects.equals(curtime.get(0).getTime(), courses.get(j).getTime())) return Result.fail(\"选课时间冲突\"); } List\u003cCurrentCourses\u003e selectcourse = currentCoursesService.lambdaQuery() .eq(CurrentCourses::getTime, courses.get(j).getTime()) .eq(CurrentCourses::getCourseId, courses.get(j).getCourse_id()) .eq(CurrentCourses::getTeacherId, courses.get(j).getTeacher_id()).list(); List\u003cSelectedCourses\u003e selectedCourse = selectedCoursesService.lambdaQuery() .eq(SelectedCourses::getStudentId, userid) .eq(SelectedCourses::getCurrentCourseId, selectcourse.get(0).getNo()).list(); List\u003cSelectedCourses\u003e num = selectedCoursesService.lambdaQuery() .eq(SelectedCourses::getCurrentCourseId, selectcourse.get(0).getNo()).list(); if (num.size() == 50) return Result.fail(\"课程容量已满\"); SelectedCourses selectedCourses = new SelectedCourses(); if (selectedCourse.size() \u003e 0) return Result.fail(); else { selectedCourses.setCurrentCourseId(selectcourse.get(0).getNo()); selectedCourses.setStudentId(i); selectedCourses.setKscj(null); selectedCourses.setPscj(null); selectedCourses.setScore(null); boolean savecourse = selectedCoursesService.save(selectedCourses); if (savecourse) continue; else return Result.fail(); } } return Result.suc(); } // DELETE方法 @DeleteMapping(\"/students/{userId}/courses\") public Result delcourse(@RequestBody List\u003cCourses\u003e courses, @PathVariable(\"userId\") String userid) { Integer i = null; if (userid != null) { i = Integer.valueOf(userid); } for (int j = 0; j \u003c courses.size(); j++) { List\u003cCurrentCourses\u003e selectcourse = currentCoursesService.lambdaQuery() .eq(CurrentCourses::getTime, courses.get(j).getTime()) .eq(CurrentCourses::getCourseId, courses.get(j).getCourse_id()) .eq(CurrentCourses::getTeacherId, courses.get(j).getTeacher_id()).list(); List\u003cSelectedCourses\u003e selectedCourse = selectedCoursesService.lambdaQuery() .eq(SelectedCourses::getStudentId, userid) .eq(SelectedCourses::getCurrentCourseId, selectcourse.get(0).getNo()).list(); if (selectedCourse.size() == 0) return Result.fail(); else { Map\u003cString, Object\u003e selmap = new HashMap\u003c\u003e(); selmap.put(\"student_id\", i); selmap.put(\"current_course_id\", selectcourse.get(0).getNo()); boolean savecourse = selectedCoursesService.removeByMap(selmap); if (savecourse) continue; else return Result.fail(); } } return Result.suc(); } 前端部分问题记录 路由传参问题 在Web开发中，路由传参是一种将数据传递到Web应用程序的特定页面或组件的方式。具体的方式可能因框架或库的不同而异，以下是一些常见的路由传参方式：\n路径参数（Path Parameters）:\n将参数直接包含在URL路径中，通常由冒号（:）标识。这些参数可以通过路由处理器提取和解析。 /users/:userId 在这个例子中，:userId 是一个路径参数，它可以被替换为具体的用户ID，比如 /users/123。\n查询参数（Query Parameters）:\n将参数追加到URL的末尾，通常以问号（?）开始，参数之间用和号（\u0026）分隔。 /search?query=example\u0026page=1 在这个例子中，query 和 page 是查询参数。\n请求体（Request Body）:\n对于POST请求或其他HTTP方法，参数可以通过请求体传递。这对于传递较大的数据或复杂的对象很有用。 { \"username\": \"john_doe\", \"password\": \"secret\" } 这是一个JSON格式的请求体示例。\nCookie:\n通过HTTP Cookie传递参数。Cookies是在客户端和服务器之间交换的小型数据片段，可以包含有关用户的信息。 Set-Cookie: username=john_doe; path=/ 在这个例子中，username 是一个Cookie，它可以在后续请求中被服务器读取。\n状态管理（State Management）:\n使用状态管理库（如React中的Redux）或框架提供的状态管理工具，将参数保存在全局状态中，以便在整个应用程序中共享和访问。 组件传递参数和URL的关系 这里想说两个传递参数的问题，一个是vue的各个组件之间传递参数，另外一个是通过this.$router.push方法如何传递。\n在vue的父子组件中，通过props进行传递 在父组件的template中，在标签中通过 :参数 的方法进行传递参数。\n\u003cdiv v-else-if=\"selectedFunction === '成绩查询'\"\u003e \u003cStudentQueryScore :myCourses=\"myScores\"\u003e\u003c/StudentQueryScore\u003e \u003c/div\u003e \u003cscript\u003e import StudentQueryScore from \"./StudentQueryScore.vue\"; export default { name: \"StudentPages\", components: { StudentQueryScore, }, \u003c/script\u003e 在子组件中的props中，进行接收，就可以在该文件中用this.myCourses进行使用。\n\u003cscript\u003e export default { name: \"studentQueryScore\", props: { myCourses: { type: Array, required: true, }, }, }; \u003c/script\u003e 通过this.$router.push方法传递 这是在逻辑上处理页面跳转，就没用到在template中的点击组件的方法，而是在中进行判断直接跳转，就用到了this.$router.push方法。\n// 处理登录成功后的逻辑 if (response.data.data.roleId === 1) { this.$router.push({ name: 'students', params: { userId: id, userName: response.data.data.userName } }); } else { this.$router.push({ name: 'teachers', params: { userId: id, userName: response.data.data.userName } }); } 该方法需要在路由中进行设置，把需要传递的参数写到path上。同时在成功登陆后网站的URL也会出现该用户的ID和姓名。这个方法可以保证网站在该页面刷新之后信息不会丢失。但是缺点就是不太美观。\n// router/index.js import { createRouter, createWebHistory } from 'vue-router' import IndexLogin from '@/views/IndexLogin.vue' const routes = [ { path: '/', name: 'home', component: IndexLogin }, { path: '/students/:userId/:userName', name: 'students', component: () =\u003e import('../views/StudentPages.vue'), }, { path: '/teachers/:userId/:userName', name: 'teachers', component: () =\u003e import('../views/TeacherPages.vue'), }, ] const router = createRouter({ history: createWebHistory(process.env.BASE_URL), routes: routes }) export default router 改进的方法也有：\n隐藏参数值：\n如果用户ID和姓名不是敏感信息，你可以考虑对它们进行某种形式的哈希处理，以将其值隐藏在URL中。这样可以增加一定的安全性。 使用查询参数：\n考虑将用户ID和姓名放在查询参数中而不是路径参数中。查询参数的形式在某种程度上可以更灵活，也可能更符合美观的设计。 plaintextCopy code /profile?userId=123\u0026username=john_doe 使用状态管理：\n使用前端的状态管理库，例如React中的Redux，可以在不显示在URL中的情况下保持应用程序的状态。这样可以避免在URL中公开敏感信息。 Session 或 Cookie:\n将用户ID和姓名存储在会话（session）中或通过Cookie进行管理。这样信息将在服务器端或客户端之间传递，而不会直接显示在URL中。 element-plus UI使用 网站的UI框架可以在很大程度上帮助我不用过多考虑样式的美观，只需要使用框架中提供好的样式就可以了。\n浏览器调试前端界面 在浏览器控制台可以进行对应的调试，我这次主要采用的方式主要是console.log的方式进行，检查关键数据是否正确。\n断点的方式也行。\n更换网站logo记录 更换网站logo是在/public/index.html中直接设置，\n\u003clink rel=\"icon\" href=\"\u003c%= BASE_URL %\u003efavicon.ico\"\u003e json数组解析，map映射，直接赋值 后端通过接口传递过来的数据在response.data.data中。可以把response.data打印在控制台上看他里面的结构，再进行解析。\n有时候传递过来的结构体可以直接进行赋值，也可以通过map映射到结构体上，也可以通过解析json的方式进行。\n// example 1 const courseData = response.data.data; this.courseInfo = courseData.map((course) =\u003e { const selectedCourse = JSON.parse(course); return { course_id: selectedCourse.course_id, course_name: selectedCourse.course_name, teacher_id: selectedCourse.teacher_id, teacher_name: selectedCourse.teacher_name, capacity: selectedCourse.capacity, selected_number: selectedCourse.selected_number, time: selectedCourse.time }; }); // example 2 const scoreData = response.data; this.myScores = scoreData.data.map(score =\u003e JSON.parse(score)); 后端部分问题记录 maven项目构建 主要不是在负责后端项目，所以对后端的一些细节不清楚。这次我们团队使用maven进行项目构建，主要的依赖和配置文件都是在pom.xml文件中，然后使用maven build等命令安装依赖让项目跑起来。\n","wordCount":"914","inLanguage":"en","image":"https://sirius1y.top/%3Clink%20or%20path%20of%20image%20for%20opengraph,%20twitter-cards%3E","datePublished":"2023-11-14T00:00:00Z","dateModified":"2023-11-14T00:00:00Z","author":{"@type":"Person","name":"sirius1y"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://sirius1y.top/posts/notes/dev/dev-coursesystem/"},"publisher":{"@type":"Organization","name":"Sirius' Blog","logo":{"@type":"ImageObject","url":"https://sirius1y.top/images/icon.png"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://sirius1y.top/ accesskey=h title="Home (Alt + H)"><img src=https://sirius1y.top/apple-touch-icon.png alt aria-label=logo height=35>Home</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://sirius1y.top/archives/ title=Archives><span>Archives</span></a></li><li><a href=https://sirius1y.top/categories/ title=Categories><span>Categories</span></a></li><li><a href=https://sirius1y.top/posts/ title=Posts><span>Posts</span></a></li><li><a href=https://sirius1y.top/search/ title="Search (Alt + /)" accesskey=/><span>Search</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><div class=breadcrumbs><a href=https://sirius1y.top/>Home</a>&nbsp;»&nbsp;<a href=https://sirius1y.top/posts/>Posts</a></div><h1 class="post-title entry-hint-parent">第一次全栈开发记录</h1><div class=post-description>记录第一次全栈开发，主要记录了前端部分所遇到的问题</div><div class=post-meta><span title='2023-11-14 00:00:00 +0000 UTC'>November 14, 2023</span>&nbsp;·&nbsp;5 min&nbsp;·&nbsp;914 words&nbsp;·&nbsp;sirius1y</div></header><aside id=toc-container class="toc-container wide"><div class=toc><details open><summary accesskey=c title="(Alt + C)"><span class=details>Table of Contents</span></summary><div class=inner><ul><li><a href=#%e7%ae%80%e4%bb%8b aria-label=简介>简介</a><ul><li><a href=#%e9%a1%b9%e7%9b%ae%e8%ae%be%e8%ae%a1%e5%9b%a2%e9%98%9f%e5%8d%8f%e4%bd%9c%e9%83%a8%e5%88%86%e8%ae%b0%e5%bd%95 aria-label=项目设计团队协作部分记录>项目设计团队协作部分记录</a><ul><li><a href=#git%e5%9b%a2%e9%98%9f%e4%bd%bf%e7%94%a8%e9%97%ae%e9%a2%98%e5%88%86%e6%94%af%e7%ae%a1%e7%90%86%e5%b8%b8%e7%94%a8%e5%91%bd%e4%bb%a4git-commit%e4%bf%a1%e6%81%afgit-stash aria-label="git团队使用问题（分支管理、常用命令、git commit信息，git stash">git团队使用问题（分支管理、常用命令、git commit信息，git stash</a><ul><li><a href=#%e6%9c%ac%e5%9c%b0%e4%bb%93%e5%ba%93%e5%88%9d%e5%a7%8b%e5%8c%96%e8%bf%9e%e6%8e%a5%e8%bf%9c%e7%a8%8b%e4%bb%93%e5%ba%93 aria-label=本地仓库初始化，连接远程仓库>本地仓库初始化，连接远程仓库</a></li><li><a href=#%e5%b7%a5%e4%bd%9c%e5%8c%ba%e4%bb%a3%e7%a0%81%e6%8e%a8%e9%80%81%e5%88%b0%e8%bf%9c%e7%a8%8b%e4%bb%93%e5%ba%93%e4%b8%8a aria-label=工作区代码推送到远程仓库上>工作区代码推送到远程仓库上</a></li><li><a href=#%e5%88%86%e6%94%af%e5%88%87%e6%8d%a2 aria-label=分支切换>分支切换</a></li><li><a href=#%e8%a6%81%e8%88%8d%e5%bc%83%e6%9c%ac%e5%9c%b0%e7%9a%84%e6%89%80%e6%9c%89%e6%9b%b4%e6%94%b9%e5%b9%b6%e4%b8%8e%e8%bf%9c%e7%a8%8b%e4%bb%93%e5%ba%93%e4%bf%9d%e6%8c%81%e5%90%8c%e6%ad%a5 aria-label=要舍弃本地的所有更改并与远程仓库保持同步>要舍弃本地的所有更改并与远程仓库保持同步</a></li><li><a href=#%e6%8f%90%e4%ba%a4%e5%88%b0%e8%bf%9c%e7%a8%8b%e4%bb%93%e5%ba%93%e4%b8%8a%e6%97%b6%e8%bf%9b%e8%a1%8c%e6%95%b4%e7%90%86 aria-label=提交到远程仓库上时进行整理>提交到远程仓库上时进行整理</a></li></ul></li><li><a href=#restful%e6%8e%a5%e5%8f%a3%e8%ae%be%e8%ae%a1 aria-label=RESTful接口设计>RESTful接口设计</a></li></ul></li><li><a href=#%e5%89%8d%e7%ab%af%e9%83%a8%e5%88%86%e9%97%ae%e9%a2%98%e8%ae%b0%e5%bd%95 aria-label=前端部分问题记录>前端部分问题记录</a><ul><li><a href=#%e8%b7%af%e7%94%b1%e4%bc%a0%e5%8f%82%e9%97%ae%e9%a2%98 aria-label=路由传参问题>路由传参问题</a></li><li><a href=#%e7%bb%84%e4%bb%b6%e4%bc%a0%e9%80%92%e5%8f%82%e6%95%b0%e5%92%8curl%e7%9a%84%e5%85%b3%e7%b3%bb aria-label=组件传递参数和URL的关系>组件传递参数和URL的关系</a><ul><ul><li><a href=#%e5%9c%a8vue%e7%9a%84%e7%88%b6%e5%ad%90%e7%bb%84%e4%bb%b6%e4%b8%ad%e9%80%9a%e8%bf%87props%e8%bf%9b%e8%a1%8c%e4%bc%a0%e9%80%92 aria-label=在vue的父子组件中，通过props进行传递>在vue的父子组件中，通过props进行传递</a></li><li><a href=#%e9%80%9a%e8%bf%87thisrouterpush%e6%96%b9%e6%b3%95%e4%bc%a0%e9%80%92 aria-label=通过this.$router.push方法传递>通过<code>this.$router.push</code>方法传递</a></li></ul></ul></li><li><a href=#element-plus-ui%e4%bd%bf%e7%94%a8 aria-label="element-plus UI使用">element-plus UI使用</a></li><li><a href=#%e6%b5%8f%e8%a7%88%e5%99%a8%e8%b0%83%e8%af%95%e5%89%8d%e7%ab%af%e7%95%8c%e9%9d%a2 aria-label=浏览器调试前端界面>浏览器调试前端界面</a></li><li><a href=#%e6%9b%b4%e6%8d%a2%e7%bd%91%e7%ab%99logo%e8%ae%b0%e5%bd%95 aria-label=更换网站logo记录>更换网站logo记录</a></li><li><a href=#json%e6%95%b0%e7%bb%84%e8%a7%a3%e6%9e%90map%e6%98%a0%e5%b0%84%e7%9b%b4%e6%8e%a5%e8%b5%8b%e5%80%bc aria-label=json数组解析，map映射，直接赋值>json数组解析，map映射，直接赋值</a></li></ul></li><li><a href=#%e5%90%8e%e7%ab%af%e9%83%a8%e5%88%86%e9%97%ae%e9%a2%98%e8%ae%b0%e5%bd%95 aria-label=后端部分问题记录>后端部分问题记录</a><ul><li><a href=#maven%e9%a1%b9%e7%9b%ae%e6%9e%84%e5%bb%ba aria-label=maven项目构建>maven项目构建</a></li></ul></li></ul></li></ul></div></details></div></aside><script>let activeElement,elements;window.addEventListener("DOMContentLoaded",function(){checkTocPosition(),elements=document.querySelectorAll("h1[id],h2[id],h3[id],h4[id],h5[id],h6[id]"),activeElement=elements[0];const t=encodeURI(activeElement.getAttribute("id")).toLowerCase();document.querySelector(`.inner ul li a[href="#${t}"]`).classList.add("active")},!1),window.addEventListener("resize",function(){checkTocPosition()},!1),window.addEventListener("scroll",()=>{activeElement=Array.from(elements).find(e=>{if(getOffsetTop(e)-window.pageYOffset>0&&getOffsetTop(e)-window.pageYOffset<window.innerHeight/2)return e})||activeElement,elements.forEach(e=>{const t=encodeURI(e.getAttribute("id")).toLowerCase();e===activeElement?document.querySelector(`.inner ul li a[href="#${t}"]`).classList.add("active"):document.querySelector(`.inner ul li a[href="#${t}"]`).classList.remove("active")})},!1);const main=parseInt(getComputedStyle(document.body).getPropertyValue("--article-width"),10),toc=parseInt(getComputedStyle(document.body).getPropertyValue("--toc-width"),10),gap=parseInt(getComputedStyle(document.body).getPropertyValue("--gap"),10);function checkTocPosition(){const e=document.body.scrollWidth;e-main-toc*2-gap*4>0?document.getElementById("toc-container").classList.add("wide"):document.getElementById("toc-container").classList.remove("wide")}function getOffsetTop(e){if(!e.getClientRects().length)return 0;let t=e.getBoundingClientRect(),n=e.ownerDocument.defaultView;return t.top+n.pageYOffset}</script><div class=post-content><p>第一次全栈开发记录</p><h1 id=简介>简介<a hidden class=anchor aria-hidden=true href=#简介>#</a></h1><p>这是数据库原理1的课程项目，做的是一个教务网站，功能主要包括：</p><ul><li>学生功能：</li></ul><p>(1) 选课功能；</p><p>(2) 退课功能；</p><p>(3) 成绩查询功能；</p><p>(4) 课表查询功能。</p><ul><li>教师功能：</li></ul><p>(1) 查看开课详情；</p><p>(2) 录入学生成绩。</p><p>下面是主要用的技术桟，我在团队中主要负责的时技术选型、前端界面设计、前后端接口设计、数据库部分的设计、团队的代码管理。</p><p><img loading=lazy src=https://s2.loli.net/2023/11/13/HxjuaiVtLZW1cdB.png alt=系统架构图></p><h2 id=项目设计团队协作部分记录>项目设计团队协作部分记录<a hidden class=anchor aria-hidden=true href=#项目设计团队协作部分记录>#</a></h2><h3 id=git团队使用问题分支管理常用命令git-commit信息git-stash>git团队使用问题（分支管理、常用命令、git commit信息，git stash<a hidden class=anchor aria-hidden=true href=#git团队使用问题分支管理常用命令git-commit信息git-stash>#</a></h3><h4 id=本地仓库初始化连接远程仓库>本地仓库初始化，连接远程仓库<a hidden class=anchor aria-hidden=true href=#本地仓库初始化连接远程仓库>#</a></h4><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=c1># 仓库初始化</span>
</span></span><span class=line><span class=cl>git init
</span></span><span class=line><span class=cl><span class=c1># 设置远程仓库</span>
</span></span><span class=line><span class=cl>git remote add origin https://github.com/sirius2alpha/CourseSystem.git
</span></span><span class=line><span class=cl><span class=c1># 检查是否设置成功</span>
</span></span><span class=line><span class=cl>git remote -v
</span></span><span class=line><span class=cl><span class=c1># 输出</span>
</span></span><span class=line><span class=cl><span class=c1># origin	https://github.com/sirius2alpha/CourseSystem.git (fetch)</span>
</span></span><span class=line><span class=cl><span class=c1># origin	https://github.com/sirius2alpha/CourseSystem.git (push)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 获取远程仓库的信息</span>
</span></span><span class=line><span class=cl>git fetch origin
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 设置远程上游分支</span>
</span></span><span class=line><span class=cl>git branch --set-upstream-to<span class=o>=</span>origin/main main
</span></span><span class=line><span class=cl><span class=c1># 或者可以采用</span>
</span></span><span class=line><span class=cl>git branch -u &lt;remote&gt;/&lt;branch&gt;
</span></span><span class=line><span class=cl><span class=c1># 如果出现main分支不存在的情况，则用checkout命令切换到main分支上再继续</span>
</span></span><span class=line><span class=cl>git checkout main
</span></span><span class=line><span class=cl><span class=c1># 检查上游分支设置</span>
</span></span><span class=line><span class=cl>git branch -vv
</span></span></code></pre></div><h4 id=工作区代码推送到远程仓库上>工作区代码推送到远程仓库上<a hidden class=anchor aria-hidden=true href=#工作区代码推送到远程仓库上>#</a></h4><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>git add .
</span></span><span class=line><span class=cl>git commit -m <span class=s2>&#34;修改的信息&#34;</span>
</span></span><span class=line><span class=cl>git pull
</span></span><span class=line><span class=cl>git push
</span></span></code></pre></div><p>关于commit提交信息的规范：https://www.conventionalcommits.org/zh-hans/v1.0.0/</p><hr><p>总结：</p><pre tabindex=0><code>&lt;type&gt;(&lt;scope&gt;): &lt;subject&gt;

&lt;body&gt;

&lt;footer&gt;
</code></pre><p>大致分为三个部分(使用空行分割):</p><ol><li>标题行: 必填, 描述主要修改类型和内容</li><li>主题内容: 描述为什么修改, 做了什么样的修改, 以及开发的思路等等</li><li>页脚注释: 放 Breaking Changes 或 Closed Issues</li></ol><p><strong>type</strong></p><p>commit 的类型：</p><ul><li>feat: 新功能、新特性</li><li>fix: 修改 bug</li><li>perf: 更改代码，以提高性能（在不影响代码内部行为的前提下，对程序性能进行优化）</li><li>refactor: 代码重构（重构，在不影响代码内部行为、功能下的代码修改）</li><li>docs: 文档修改</li><li>style: 代码格式修改, 注意不是 css 修改（例如分号修改）</li><li>test: 测试用例新增、修改</li><li>build: 影响项目构建或依赖项修改</li><li>revert: 恢复上一次提交</li><li>ci: 持续集成相关文件修改</li><li>chore: 其他修改（不在上述类型中的修改）</li><li>release: 发布新版本</li><li>workflow: 工作流相关文件修改</li></ul><p><strong>scope</strong></p><p>commit 影响的范围, 比如: route, component, utils, build&mldr;</p><p><strong>subject</strong></p><p>commit 的概述</p><p><strong>body</strong></p><p>commit 具体修改内容, 可以分为多行.</p><p><strong>footer</strong></p><p>一些备注, 通常是 BREAKING CHANGE 或修复的 bug 的链接.</p><hr><h4 id=分支切换>分支切换<a hidden class=anchor aria-hidden=true href=#分支切换>#</a></h4><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=c1># 切换到某一次的提交记录上</span>
</span></span><span class=line><span class=cl>git checkout <span class=o>[</span>提交的sha256<span class=o>]</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 切换到另一分支上</span>
</span></span><span class=line><span class=cl>git checkout <span class=o>[</span>另外一个分支名字<span class=o>]</span>
</span></span><span class=line><span class=cl><span class=c1># 也可以用git switch来进行切换</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># git stash 是用于暂存工作目录中的更改的 Git 命令，以便你可以切换到其他分支或执行其他操作。</span>
</span></span><span class=line><span class=cl>git stash          <span class=c1># 暂存更改</span>
</span></span><span class=line><span class=cl>git stash list     <span class=c1># 列出所有的 stash</span>
</span></span><span class=line><span class=cl>git stash apply    <span class=c1># 应用最新的 stash</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>git stash save <span class=s2>&#34;你的 stash 描述&#34;</span>
</span></span><span class=line><span class=cl><span class=c1># 并应用特定的 stash：</span>
</span></span><span class=line><span class=cl>git stash apply stash@<span class=o>{</span>2<span class=o>}</span>
</span></span><span class=line><span class=cl><span class=c1># 请记住，stash 是一种临时保存更改的方法，你可以根据需要应用或丢弃 stash。</span>
</span></span></code></pre></div><h4 id=要舍弃本地的所有更改并与远程仓库保持同步>要舍弃本地的所有更改并与远程仓库保持同步<a hidden class=anchor aria-hidden=true href=#要舍弃本地的所有更改并与远程仓库保持同步>#</a></h4><ol><li><p><strong>确保当前分支上没有未提交的更改：</strong></p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>git reset --hard HEAD
</span></span></code></pre></div><p>这将取消所有本地的未提交更改，将工作目录和暂存区恢复到最近的一次提交状态。</p></li><li><p><strong>拉取远程仓库的最新更改：</strong></p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>git pull origin &lt;分支名称&gt;
</span></span></code></pre></div><p>请将 <code>&lt;分支名称></code> 替换为你想要同步的远程分支的名称。这将获取远程仓库的最新更改并将其合并到你的本地分支。</p></li></ol><h4 id=提交到远程仓库上时进行整理>提交到远程仓库上时进行整理<a hidden class=anchor aria-hidden=true href=#提交到远程仓库上时进行整理>#</a></h4><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>git rebase -i HEAD~n
</span></span></code></pre></div><p>在这里，<code>n</code> 是你想要整理的提交数量。然后，你可以合并、编辑或删除提交。</p><p>请注意，使用 rebase 可能会改写提交历史，因此只有在你尚未将提交推送到远程仓库或你知道如何处理已推送更改时才应使用。如果你已经将更改推送到远程仓库，使用 rebase 可能会导致问题，因为它修改了提交的哈希值。</p><h3 id=restful接口设计>RESTful接口设计<a hidden class=anchor aria-hidden=true href=#restful接口设计>#</a></h3><p>前后端接口设计此次采用的时RESTful接口设计，常用的方法时GRT，POST，DELETE。API文档管理和测试用的FOXAPI平台，使用体验还行，基本的功能都能满足。下次可以试一下postman，swimm，readme等其他api管理和测试平台。</p><p>这是一个使用axios.get方法的例子，查询参数是放在params中。</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=kr>async</span> <span class=nx>queryCourses</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=kr>const</span> <span class=nx>apiUrl</span> <span class=o>=</span> <span class=sb>`</span><span class=si>${</span><span class=k>this</span><span class=p>.</span><span class=nx>host</span><span class=si>}</span><span class=sb>/api/courses`</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=kr>const</span> <span class=nx>queryParams</span> <span class=o>=</span> <span class=p>{</span>
</span></span><span class=line><span class=cl><span class=p>.</span>			<span class=p>.....</span>
</span></span><span class=line><span class=cl>  <span class=p>};</span>
</span></span><span class=line><span class=cl>  <span class=kr>await</span> <span class=nx>axios</span><span class=p>.</span><span class=nx>get</span><span class=p>(</span><span class=nx>apiUrl</span><span class=p>,</span> <span class=p>{</span> <span class=nx>params</span><span class=o>:</span> <span class=nx>queryParams</span> <span class=p>})</span>
</span></span><span class=line><span class=cl>    <span class=p>.</span><span class=nx>then</span><span class=p>(</span><span class=nx>response</span> <span class=p>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=p>......</span>
</span></span><span class=line><span class=cl>    <span class=p>},</span> <span class=nx>error</span> <span class=p>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=p>......</span>
</span></span><span class=line><span class=cl>    <span class=p>})</span>
</span></span><span class=line><span class=cl><span class=p>},</span>
</span></span></code></pre></div><p>使用axios.post的例子，请求体直接放在方法里面就可以。</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=kr>const</span> <span class=nx>requestBody</span> <span class=o>=</span> <span class=p>[];</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>this</span><span class=p>.</span><span class=nx>selectedCourses</span><span class=p>.</span><span class=nx>forEach</span><span class=p>((</span><span class=nx>course</span><span class=p>)</span> <span class=p>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=nx>requestBody</span><span class=p>.</span><span class=nx>push</span><span class=p>({</span>
</span></span><span class=line><span class=cl>    <span class=nx>course_id</span><span class=o>:</span> <span class=nx>course</span><span class=p>.</span><span class=nx>course_id</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nx>course_name</span><span class=o>:</span> <span class=nx>course</span><span class=p>.</span><span class=nx>course_name</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nx>teacher_id</span><span class=o>:</span> <span class=nx>course</span><span class=p>.</span><span class=nx>teacher_id</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nx>teacher_name</span><span class=o>:</span> <span class=nx>course</span><span class=p>.</span><span class=nx>teacher_name</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nx>capacity</span><span class=o>:</span> <span class=nx>course</span><span class=p>.</span><span class=nx>capacity</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nx>selected_number</span><span class=o>:</span> <span class=nx>course</span><span class=p>.</span><span class=nx>selected_number</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nx>time</span><span class=o>:</span> <span class=nx>course</span><span class=p>.</span><span class=nx>time</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=p>});</span>
</span></span><span class=line><span class=cl><span class=p>});</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=s2>&#34;选课请求发送的 requestBody&#34;</span><span class=p>,</span> <span class=nx>requestBody</span><span class=p>);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kr>const</span> <span class=nx>apiUrl</span> <span class=o>=</span> <span class=sb>`</span><span class=si>${</span><span class=k>this</span><span class=p>.</span><span class=nx>host</span><span class=si>}</span><span class=sb>/api/students/</span><span class=si>${</span><span class=k>this</span><span class=p>.</span><span class=nx>userId</span><span class=si>}</span><span class=sb>/courses`</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=kr>const</span> <span class=nx>response</span> <span class=o>=</span> <span class=kr>await</span> <span class=nx>axios</span><span class=p>.</span><span class=nx>post</span><span class=p>(</span><span class=nx>apiUrl</span><span class=p>,</span> <span class=nx>requestBody</span><span class=p>);</span>
</span></span></code></pre></div><p>后端在接收get请求和post请求的时候对传递参数的解析方法是不一样的，get方法要从params中获取，post方法就直接从body中读取。</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=c1>// GET方法</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nd>@GetMapping</span><span class=p>(</span><span class=s>&#34;/students/{userId}/courses&#34;</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=kd>public</span><span class=w> </span><span class=n>Result</span><span class=w> </span><span class=nf>selectedclass</span><span class=p>(</span><span class=nd>@PathVariable</span><span class=p>(</span><span class=s>&#34;userId&#34;</span><span class=p>)</span><span class=w> </span><span class=n>String</span><span class=w> </span><span class=n>userId</span><span class=p>)</span><span class=w> </span><span class=kd>throws</span><span class=w> </span><span class=n>JsonProcessingException</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>List</span><span class=o>&lt;</span><span class=n>SelectedCourses</span><span class=o>&gt;</span><span class=w> </span><span class=n>selectno</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>selectedCoursesService</span><span class=p>.</span><span class=na>lambdaQuery</span><span class=p>()</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=p>.</span><span class=na>eq</span><span class=p>(</span><span class=n>SelectedCourses</span><span class=p>::</span><span class=n>getStudentId</span><span class=p>,</span><span class=w> </span><span class=n>userId</span><span class=p>).</span><span class=na>list</span><span class=p>();</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=n>selectno</span><span class=p>.</span><span class=na>size</span><span class=p>()</span><span class=w> </span><span class=o>==</span><span class=w> </span><span class=n>0</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>return</span><span class=w> </span><span class=n>Result</span><span class=p>.</span><span class=na>fail</span><span class=p>();</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>List</span><span class=o>&lt;</span><span class=n>String</span><span class=o>&gt;</span><span class=w> </span><span class=n>response</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=k>new</span><span class=w> </span><span class=n>ArrayList</span><span class=o>&lt;&gt;</span><span class=p>();</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>Integer</span><span class=w> </span><span class=n>no</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=kt>int</span><span class=w> </span><span class=n>courseid</span><span class=p>,</span><span class=w> </span><span class=n>teacherid</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>Courses</span><span class=w> </span><span class=n>courses</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=k>new</span><span class=w> </span><span class=n>Courses</span><span class=p>();</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>for</span><span class=w> </span><span class=p>(</span><span class=kt>int</span><span class=w> </span><span class=n>i</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>0</span><span class=p>;</span><span class=w> </span><span class=n>i</span><span class=w> </span><span class=o>&lt;</span><span class=w> </span><span class=n>selectno</span><span class=p>.</span><span class=na>size</span><span class=p>();</span><span class=w> </span><span class=n>i</span><span class=o>++</span><span class=p>)</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=n>no</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>selectno</span><span class=p>.</span><span class=na>get</span><span class=p>(</span><span class=n>i</span><span class=p>).</span><span class=na>getCurrentCourseId</span><span class=p>();</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=n>List</span><span class=o>&lt;</span><span class=n>CurrentCourses</span><span class=o>&gt;</span><span class=w> </span><span class=n>list</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>currentCoursesService</span><span class=p>.</span><span class=na>lambdaQuery</span><span class=p>()</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>                </span><span class=p>.</span><span class=na>eq</span><span class=p>(</span><span class=n>CurrentCourses</span><span class=p>::</span><span class=n>getNo</span><span class=p>,</span><span class=w> </span><span class=n>no</span><span class=p>).</span><span class=na>list</span><span class=p>();</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=n>courseid</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>list</span><span class=p>.</span><span class=na>get</span><span class=p>(</span><span class=n>0</span><span class=p>).</span><span class=na>getCourseId</span><span class=p>();</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=n>courses</span><span class=p>.</span><span class=na>setCourse_id</span><span class=p>(</span><span class=n>courseid</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=n>List</span><span class=o>&lt;</span><span class=n>CoursePlan</span><span class=o>&gt;</span><span class=w> </span><span class=n>coursesname</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>coursePlanService</span><span class=p>.</span><span class=na>lambdaQuery</span><span class=p>()</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>                </span><span class=p>.</span><span class=na>eq</span><span class=p>(</span><span class=n>CoursePlan</span><span class=p>::</span><span class=n>getCourseId</span><span class=p>,</span><span class=w> </span><span class=n>courseid</span><span class=p>).</span><span class=na>list</span><span class=p>();</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=n>courses</span><span class=p>.</span><span class=na>setCourse_name</span><span class=p>(</span><span class=n>coursesname</span><span class=p>.</span><span class=na>get</span><span class=p>(</span><span class=n>0</span><span class=p>).</span><span class=na>getCourseName</span><span class=p>());</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=n>teacherid</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>list</span><span class=p>.</span><span class=na>get</span><span class=p>(</span><span class=n>0</span><span class=p>).</span><span class=na>getTeacherId</span><span class=p>();</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=n>courses</span><span class=p>.</span><span class=na>setTeacher_id</span><span class=p>(</span><span class=n>teacherid</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=n>List</span><span class=o>&lt;</span><span class=n>Teachers</span><span class=o>&gt;</span><span class=w> </span><span class=n>teachersname</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>teachersService</span><span class=p>.</span><span class=na>lambdaQuery</span><span class=p>()</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>                </span><span class=p>.</span><span class=na>eq</span><span class=p>(</span><span class=n>Teachers</span><span class=p>::</span><span class=n>getId</span><span class=p>,</span><span class=w> </span><span class=n>teacherid</span><span class=p>).</span><span class=na>list</span><span class=p>();</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=n>courses</span><span class=p>.</span><span class=na>setTeacher_name</span><span class=p>(</span><span class=n>teachersname</span><span class=p>.</span><span class=na>get</span><span class=p>(</span><span class=n>0</span><span class=p>).</span><span class=na>getName</span><span class=p>());</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=n>courses</span><span class=p>.</span><span class=na>setCapacity</span><span class=p>(</span><span class=n>50</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=n>no</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>list</span><span class=p>.</span><span class=na>get</span><span class=p>(</span><span class=n>0</span><span class=p>).</span><span class=na>getNo</span><span class=p>();</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=n>List</span><span class=o>&lt;</span><span class=n>SelectedCourses</span><span class=o>&gt;</span><span class=w> </span><span class=n>selectno1</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>selectedCoursesService</span><span class=p>.</span><span class=na>lambdaQuery</span><span class=p>()</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>                </span><span class=p>.</span><span class=na>eq</span><span class=p>(</span><span class=n>SelectedCourses</span><span class=p>::</span><span class=n>getCurrentCourseId</span><span class=p>,</span><span class=w> </span><span class=n>no</span><span class=p>).</span><span class=na>list</span><span class=p>();</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=n>courses</span><span class=p>.</span><span class=na>setSelected_number</span><span class=p>(</span><span class=n>selectno1</span><span class=p>.</span><span class=na>size</span><span class=p>());</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=n>courses</span><span class=p>.</span><span class=na>setTime</span><span class=p>(</span><span class=n>list</span><span class=p>.</span><span class=na>get</span><span class=p>(</span><span class=n>0</span><span class=p>).</span><span class=na>getTime</span><span class=p>());</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=n>ObjectMapper</span><span class=w> </span><span class=n>mapper</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=k>new</span><span class=w> </span><span class=n>ObjectMapper</span><span class=p>();</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=n>String</span><span class=w> </span><span class=n>json</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>mapper</span><span class=p>.</span><span class=na>writeValueAsString</span><span class=p>(</span><span class=n>courses</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=n>response</span><span class=p>.</span><span class=na>add</span><span class=p>(</span><span class=n>i</span><span class=p>,</span><span class=w> </span><span class=n>json</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>return</span><span class=w> </span><span class=n>selectno</span><span class=p>.</span><span class=na>size</span><span class=p>()</span><span class=w> </span><span class=o>&gt;</span><span class=w> </span><span class=n>0</span><span class=w> </span><span class=o>?</span><span class=w> </span><span class=n>Result</span><span class=p>.</span><span class=na>suc</span><span class=p>(</span><span class=n>response</span><span class=p>,</span><span class=w> </span><span class=n>selectno</span><span class=p>.</span><span class=na>size</span><span class=p>())</span><span class=w> </span><span class=p>:</span><span class=w> </span><span class=n>Result</span><span class=p>.</span><span class=na>fail</span><span class=p>();</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=c1>// POST方法</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nd>@PostMapping</span><span class=p>(</span><span class=s>&#34;/students/{userId}/courses&#34;</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=kd>public</span><span class=w> </span><span class=n>Result</span><span class=w> </span><span class=nf>selectedclass</span><span class=p>(</span><span class=nd>@PathVariable</span><span class=p>(</span><span class=s>&#34;userId&#34;</span><span class=p>)</span><span class=w> </span><span class=n>String</span><span class=w> </span><span class=n>userid</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nd>@RequestBody</span><span class=w> </span><span class=n>List</span><span class=o>&lt;</span><span class=n>Courses</span><span class=o>&gt;</span><span class=w> </span><span class=n>courses</span><span class=p>)</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>Integer</span><span class=w> </span><span class=n>i</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=kc>null</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=n>userid</span><span class=w> </span><span class=o>!=</span><span class=w> </span><span class=kc>null</span><span class=p>)</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=n>i</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>Integer</span><span class=p>.</span><span class=na>valueOf</span><span class=p>(</span><span class=n>userid</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>for</span><span class=w> </span><span class=p>(</span><span class=kt>int</span><span class=w> </span><span class=n>j</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>0</span><span class=p>;</span><span class=w> </span><span class=n>j</span><span class=w> </span><span class=o>&lt;</span><span class=w> </span><span class=n>courses</span><span class=p>.</span><span class=na>size</span><span class=p>();</span><span class=w> </span><span class=n>j</span><span class=o>++</span><span class=p>)</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=n>List</span><span class=o>&lt;</span><span class=n>SelectedCourses</span><span class=o>&gt;</span><span class=w> </span><span class=n>selectno</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>selectedCoursesService</span><span class=p>.</span><span class=na>lambdaQuery</span><span class=p>()</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>                </span><span class=p>.</span><span class=na>eq</span><span class=p>(</span><span class=n>SelectedCourses</span><span class=p>::</span><span class=n>getStudentId</span><span class=p>,</span><span class=w> </span><span class=n>userid</span><span class=p>).</span><span class=na>list</span><span class=p>();</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>for</span><span class=w> </span><span class=p>(</span><span class=kt>int</span><span class=w> </span><span class=n>k</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>0</span><span class=p>;</span><span class=w> </span><span class=n>k</span><span class=w> </span><span class=o>&lt;</span><span class=w> </span><span class=n>selectno</span><span class=p>.</span><span class=na>size</span><span class=p>();</span><span class=w> </span><span class=n>k</span><span class=o>++</span><span class=p>)</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=n>List</span><span class=o>&lt;</span><span class=n>CurrentCourses</span><span class=o>&gt;</span><span class=w> </span><span class=n>curtime</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>currentCoursesService</span><span class=p>.</span><span class=na>lambdaQuery</span><span class=p>()</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>                    </span><span class=p>.</span><span class=na>eq</span><span class=p>(</span><span class=n>CurrentCourses</span><span class=p>::</span><span class=n>getNo</span><span class=p>,</span><span class=w> </span><span class=n>selectno</span><span class=p>.</span><span class=na>get</span><span class=p>(</span><span class=n>k</span><span class=p>).</span><span class=na>getCurrentCourseId</span><span class=p>()).</span><span class=na>list</span><span class=p>();</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=c1>// 重复选择同一门课</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=n>Objects</span><span class=p>.</span><span class=na>equals</span><span class=p>(</span><span class=n>curtime</span><span class=p>.</span><span class=na>get</span><span class=p>(</span><span class=n>0</span><span class=p>).</span><span class=na>getCourseId</span><span class=p>(),</span><span class=w> </span><span class=n>courses</span><span class=p>.</span><span class=na>get</span><span class=p>(</span><span class=n>j</span><span class=p>).</span><span class=na>getCourse_id</span><span class=p>()))</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>                </span><span class=k>return</span><span class=w> </span><span class=n>Result</span><span class=p>.</span><span class=na>fail</span><span class=p>(</span><span class=s>&#34;已选择该课程&#34;</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=c1>// 选课时间冲突</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=k>else</span><span class=w> </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=n>Objects</span><span class=p>.</span><span class=na>equals</span><span class=p>(</span><span class=n>curtime</span><span class=p>.</span><span class=na>get</span><span class=p>(</span><span class=n>0</span><span class=p>).</span><span class=na>getTime</span><span class=p>(),</span><span class=w> </span><span class=n>courses</span><span class=p>.</span><span class=na>get</span><span class=p>(</span><span class=n>j</span><span class=p>).</span><span class=na>getTime</span><span class=p>()))</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>                </span><span class=k>return</span><span class=w> </span><span class=n>Result</span><span class=p>.</span><span class=na>fail</span><span class=p>(</span><span class=s>&#34;选课时间冲突&#34;</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=n>List</span><span class=o>&lt;</span><span class=n>CurrentCourses</span><span class=o>&gt;</span><span class=w> </span><span class=n>selectcourse</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>currentCoursesService</span><span class=p>.</span><span class=na>lambdaQuery</span><span class=p>()</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>                </span><span class=p>.</span><span class=na>eq</span><span class=p>(</span><span class=n>CurrentCourses</span><span class=p>::</span><span class=n>getTime</span><span class=p>,</span><span class=w> </span><span class=n>courses</span><span class=p>.</span><span class=na>get</span><span class=p>(</span><span class=n>j</span><span class=p>).</span><span class=na>getTime</span><span class=p>())</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>                </span><span class=p>.</span><span class=na>eq</span><span class=p>(</span><span class=n>CurrentCourses</span><span class=p>::</span><span class=n>getCourseId</span><span class=p>,</span><span class=w> </span><span class=n>courses</span><span class=p>.</span><span class=na>get</span><span class=p>(</span><span class=n>j</span><span class=p>).</span><span class=na>getCourse_id</span><span class=p>())</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>                </span><span class=p>.</span><span class=na>eq</span><span class=p>(</span><span class=n>CurrentCourses</span><span class=p>::</span><span class=n>getTeacherId</span><span class=p>,</span><span class=w> </span><span class=n>courses</span><span class=p>.</span><span class=na>get</span><span class=p>(</span><span class=n>j</span><span class=p>).</span><span class=na>getTeacher_id</span><span class=p>()).</span><span class=na>list</span><span class=p>();</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=n>List</span><span class=o>&lt;</span><span class=n>SelectedCourses</span><span class=o>&gt;</span><span class=w> </span><span class=n>selectedCourse</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>selectedCoursesService</span><span class=p>.</span><span class=na>lambdaQuery</span><span class=p>()</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>                </span><span class=p>.</span><span class=na>eq</span><span class=p>(</span><span class=n>SelectedCourses</span><span class=p>::</span><span class=n>getStudentId</span><span class=p>,</span><span class=w> </span><span class=n>userid</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>                </span><span class=p>.</span><span class=na>eq</span><span class=p>(</span><span class=n>SelectedCourses</span><span class=p>::</span><span class=n>getCurrentCourseId</span><span class=p>,</span><span class=w> </span><span class=n>selectcourse</span><span class=p>.</span><span class=na>get</span><span class=p>(</span><span class=n>0</span><span class=p>).</span><span class=na>getNo</span><span class=p>()).</span><span class=na>list</span><span class=p>();</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=n>List</span><span class=o>&lt;</span><span class=n>SelectedCourses</span><span class=o>&gt;</span><span class=w> </span><span class=n>num</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>selectedCoursesService</span><span class=p>.</span><span class=na>lambdaQuery</span><span class=p>()</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>                </span><span class=p>.</span><span class=na>eq</span><span class=p>(</span><span class=n>SelectedCourses</span><span class=p>::</span><span class=n>getCurrentCourseId</span><span class=p>,</span><span class=w> </span><span class=n>selectcourse</span><span class=p>.</span><span class=na>get</span><span class=p>(</span><span class=n>0</span><span class=p>).</span><span class=na>getNo</span><span class=p>()).</span><span class=na>list</span><span class=p>();</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=n>num</span><span class=p>.</span><span class=na>size</span><span class=p>()</span><span class=w> </span><span class=o>==</span><span class=w> </span><span class=n>50</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=k>return</span><span class=w> </span><span class=n>Result</span><span class=p>.</span><span class=na>fail</span><span class=p>(</span><span class=s>&#34;课程容量已满&#34;</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=n>SelectedCourses</span><span class=w> </span><span class=n>selectedCourses</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=k>new</span><span class=w> </span><span class=n>SelectedCourses</span><span class=p>();</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=n>selectedCourse</span><span class=p>.</span><span class=na>size</span><span class=p>()</span><span class=w> </span><span class=o>&gt;</span><span class=w> </span><span class=n>0</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=k>return</span><span class=w> </span><span class=n>Result</span><span class=p>.</span><span class=na>fail</span><span class=p>();</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>else</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=n>selectedCourses</span><span class=p>.</span><span class=na>setCurrentCourseId</span><span class=p>(</span><span class=n>selectcourse</span><span class=p>.</span><span class=na>get</span><span class=p>(</span><span class=n>0</span><span class=p>).</span><span class=na>getNo</span><span class=p>());</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=n>selectedCourses</span><span class=p>.</span><span class=na>setStudentId</span><span class=p>(</span><span class=n>i</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=n>selectedCourses</span><span class=p>.</span><span class=na>setKscj</span><span class=p>(</span><span class=kc>null</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=n>selectedCourses</span><span class=p>.</span><span class=na>setPscj</span><span class=p>(</span><span class=kc>null</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=n>selectedCourses</span><span class=p>.</span><span class=na>setScore</span><span class=p>(</span><span class=kc>null</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=kt>boolean</span><span class=w> </span><span class=n>savecourse</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>selectedCoursesService</span><span class=p>.</span><span class=na>save</span><span class=p>(</span><span class=n>selectedCourses</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=n>savecourse</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>                </span><span class=k>continue</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=k>else</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>                </span><span class=k>return</span><span class=w> </span><span class=n>Result</span><span class=p>.</span><span class=na>fail</span><span class=p>();</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>return</span><span class=w> </span><span class=n>Result</span><span class=p>.</span><span class=na>suc</span><span class=p>();</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=c1>// DELETE方法</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nd>@DeleteMapping</span><span class=p>(</span><span class=s>&#34;/students/{userId}/courses&#34;</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=kd>public</span><span class=w> </span><span class=n>Result</span><span class=w> </span><span class=nf>delcourse</span><span class=p>(</span><span class=nd>@RequestBody</span><span class=w> </span><span class=n>List</span><span class=o>&lt;</span><span class=n>Courses</span><span class=o>&gt;</span><span class=w> </span><span class=n>courses</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nd>@PathVariable</span><span class=p>(</span><span class=s>&#34;userId&#34;</span><span class=p>)</span><span class=w> </span><span class=n>String</span><span class=w> </span><span class=n>userid</span><span class=p>)</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>Integer</span><span class=w> </span><span class=n>i</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=kc>null</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=n>userid</span><span class=w> </span><span class=o>!=</span><span class=w> </span><span class=kc>null</span><span class=p>)</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=n>i</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>Integer</span><span class=p>.</span><span class=na>valueOf</span><span class=p>(</span><span class=n>userid</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>for</span><span class=w> </span><span class=p>(</span><span class=kt>int</span><span class=w> </span><span class=n>j</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>0</span><span class=p>;</span><span class=w> </span><span class=n>j</span><span class=w> </span><span class=o>&lt;</span><span class=w> </span><span class=n>courses</span><span class=p>.</span><span class=na>size</span><span class=p>();</span><span class=w> </span><span class=n>j</span><span class=o>++</span><span class=p>)</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=n>List</span><span class=o>&lt;</span><span class=n>CurrentCourses</span><span class=o>&gt;</span><span class=w> </span><span class=n>selectcourse</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>currentCoursesService</span><span class=p>.</span><span class=na>lambdaQuery</span><span class=p>()</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>                </span><span class=p>.</span><span class=na>eq</span><span class=p>(</span><span class=n>CurrentCourses</span><span class=p>::</span><span class=n>getTime</span><span class=p>,</span><span class=w> </span><span class=n>courses</span><span class=p>.</span><span class=na>get</span><span class=p>(</span><span class=n>j</span><span class=p>).</span><span class=na>getTime</span><span class=p>())</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>                </span><span class=p>.</span><span class=na>eq</span><span class=p>(</span><span class=n>CurrentCourses</span><span class=p>::</span><span class=n>getCourseId</span><span class=p>,</span><span class=w> </span><span class=n>courses</span><span class=p>.</span><span class=na>get</span><span class=p>(</span><span class=n>j</span><span class=p>).</span><span class=na>getCourse_id</span><span class=p>())</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>                </span><span class=p>.</span><span class=na>eq</span><span class=p>(</span><span class=n>CurrentCourses</span><span class=p>::</span><span class=n>getTeacherId</span><span class=p>,</span><span class=w> </span><span class=n>courses</span><span class=p>.</span><span class=na>get</span><span class=p>(</span><span class=n>j</span><span class=p>).</span><span class=na>getTeacher_id</span><span class=p>()).</span><span class=na>list</span><span class=p>();</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=n>List</span><span class=o>&lt;</span><span class=n>SelectedCourses</span><span class=o>&gt;</span><span class=w> </span><span class=n>selectedCourse</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>selectedCoursesService</span><span class=p>.</span><span class=na>lambdaQuery</span><span class=p>()</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>                </span><span class=p>.</span><span class=na>eq</span><span class=p>(</span><span class=n>SelectedCourses</span><span class=p>::</span><span class=n>getStudentId</span><span class=p>,</span><span class=w> </span><span class=n>userid</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>                </span><span class=p>.</span><span class=na>eq</span><span class=p>(</span><span class=n>SelectedCourses</span><span class=p>::</span><span class=n>getCurrentCourseId</span><span class=p>,</span><span class=w> </span><span class=n>selectcourse</span><span class=p>.</span><span class=na>get</span><span class=p>(</span><span class=n>0</span><span class=p>).</span><span class=na>getNo</span><span class=p>()).</span><span class=na>list</span><span class=p>();</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=n>selectedCourse</span><span class=p>.</span><span class=na>size</span><span class=p>()</span><span class=w> </span><span class=o>==</span><span class=w> </span><span class=n>0</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=k>return</span><span class=w> </span><span class=n>Result</span><span class=p>.</span><span class=na>fail</span><span class=p>();</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>else</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=n>Map</span><span class=o>&lt;</span><span class=n>String</span><span class=p>,</span><span class=w> </span><span class=n>Object</span><span class=o>&gt;</span><span class=w> </span><span class=n>selmap</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=k>new</span><span class=w> </span><span class=n>HashMap</span><span class=o>&lt;&gt;</span><span class=p>();</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=n>selmap</span><span class=p>.</span><span class=na>put</span><span class=p>(</span><span class=s>&#34;student_id&#34;</span><span class=p>,</span><span class=w> </span><span class=n>i</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=n>selmap</span><span class=p>.</span><span class=na>put</span><span class=p>(</span><span class=s>&#34;current_course_id&#34;</span><span class=p>,</span><span class=w> </span><span class=n>selectcourse</span><span class=p>.</span><span class=na>get</span><span class=p>(</span><span class=n>0</span><span class=p>).</span><span class=na>getNo</span><span class=p>());</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=kt>boolean</span><span class=w> </span><span class=n>savecourse</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>selectedCoursesService</span><span class=p>.</span><span class=na>removeByMap</span><span class=p>(</span><span class=n>selmap</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=n>savecourse</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>                </span><span class=k>continue</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=k>else</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>                </span><span class=k>return</span><span class=w> </span><span class=n>Result</span><span class=p>.</span><span class=na>fail</span><span class=p>();</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>return</span><span class=w> </span><span class=n>Result</span><span class=p>.</span><span class=na>suc</span><span class=p>();</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=p>}</span><span class=w>
</span></span></span></code></pre></div><h2 id=前端部分问题记录>前端部分问题记录<a hidden class=anchor aria-hidden=true href=#前端部分问题记录>#</a></h2><h3 id=路由传参问题>路由传参问题<a hidden class=anchor aria-hidden=true href=#路由传参问题>#</a></h3><p>在Web开发中，路由传参是一种将数据传递到Web应用程序的特定页面或组件的方式。具体的方式可能因框架或库的不同而异，以下是一些常见的路由传参方式：</p><ol><li><p><strong>路径参数（Path Parameters）:</strong></p><ul><li>将参数直接包含在URL路径中，通常由冒号（:）标识。这些参数可以通过路由处理器提取和解析。</li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-plaintext data-lang=plaintext><span class=line><span class=cl>/users/:userId
</span></span></code></pre></div><p>在这个例子中，<code>:userId</code> 是一个路径参数，它可以被替换为具体的用户ID，比如 <code>/users/123</code>。</p></li><li><p><strong>查询参数（Query Parameters）:</strong></p><ul><li>将参数追加到URL的末尾，通常以问号（?）开始，参数之间用和号（&）分隔。</li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-plaintext data-lang=plaintext><span class=line><span class=cl>/search?query=example&amp;page=1
</span></span></code></pre></div><p>在这个例子中，<code>query</code> 和 <code>page</code> 是查询参数。</p></li><li><p><strong>请求体（Request Body）:</strong></p><ul><li>对于POST请求或其他HTTP方法，参数可以通过请求体传递。这对于传递较大的数据或复杂的对象很有用。</li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-json data-lang=json><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=nt>&#34;username&#34;</span><span class=p>:</span> <span class=s2>&#34;john_doe&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=nt>&#34;password&#34;</span><span class=p>:</span> <span class=s2>&#34;secret&#34;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></div><p>这是一个JSON格式的请求体示例。</p></li><li><p><strong>Cookie:</strong></p><ul><li>通过HTTP Cookie传递参数。Cookies是在客户端和服务器之间交换的小型数据片段，可以包含有关用户的信息。</li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-plaintext data-lang=plaintext><span class=line><span class=cl>Set-Cookie: username=john_doe; path=/
</span></span></code></pre></div><p>在这个例子中，<code>username</code> 是一个Cookie，它可以在后续请求中被服务器读取。</p></li><li><p><strong>状态管理（State Management）:</strong></p><ul><li>使用状态管理库（如React中的Redux）或框架提供的状态管理工具，将参数保存在全局状态中，以便在整个应用程序中共享和访问。</li></ul></li></ol><h3 id=组件传递参数和url的关系>组件传递参数和URL的关系<a hidden class=anchor aria-hidden=true href=#组件传递参数和url的关系>#</a></h3><p>这里想说两个传递参数的问题，一个是vue的各个组件之间传递参数，另外一个是通过<code>this.$router.push</code>方法如何传递。</p><h5 id=在vue的父子组件中通过props进行传递>在vue的父子组件中，通过props进行传递<a hidden class=anchor aria-hidden=true href=#在vue的父子组件中通过props进行传递>#</a></h5><p>在父组件的template中，在标签中通过 :参数 的方法进行传递参数。</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-vue data-lang=vue><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>div</span> <span class=na>v</span><span class=nt>-else-if</span><span class=err>=&#34;</span><span class=na>selectedFunction </span><span class=o>=</span><span class=err>==</span> <span class=err>&#39;</span><span class=na>成绩查询</span><span class=err>&#39;&#34;</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>     <span class=p>&lt;</span><span class=nt>StudentQueryScore</span> <span class=nt>:myCourses</span><span class=s>=&#34;myScores&#34;</span><span class=p>&gt;&lt;/</span><span class=nt>StudentQueryScore</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl><span class=p>&lt;/</span><span class=nt>div</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>script</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl><span class=kr>import</span> <span class=nx>StudentQueryScore</span> <span class=nx>from</span> <span class=s2>&#34;./StudentQueryScore.vue&#34;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kr>export</span> <span class=k>default</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=nx>name</span><span class=o>:</span> <span class=s2>&#34;StudentPages&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=nx>components</span><span class=o>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>StudentQueryScore</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=p>},</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl><span class=p>&lt;/</span><span class=nt>script</span><span class=p>&gt;</span>
</span></span></code></pre></div><p>在子组件中的props中，进行接收，就可以在该文件中用this.myCourses进行使用。</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-vue data-lang=vue><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>script</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl><span class=kr>export</span> <span class=k>default</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>name</span><span class=o>:</span> <span class=s2>&#34;studentQueryScore&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nx>props</span><span class=o>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=nx>myCourses</span><span class=o>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=nx>type</span><span class=o>:</span> <span class=nb>Array</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=nx>required</span><span class=o>:</span> <span class=kc>true</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=p>},</span>
</span></span><span class=line><span class=cl>    <span class=p>},</span>
</span></span><span class=line><span class=cl><span class=p>};</span>
</span></span><span class=line><span class=cl><span class=p>&lt;/</span><span class=nt>script</span><span class=p>&gt;</span>
</span></span></code></pre></div><h5 id=通过thisrouterpush方法传递>通过<code>this.$router.push</code>方法传递<a hidden class=anchor aria-hidden=true href=#通过thisrouterpush方法传递>#</a></h5><p>这是在逻辑上处理页面跳转，就没用到在template中的点击组件的方法，而是在中进行判断直接跳转，就用到了<code>this.$router.push</code>方法。</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=c1>// 处理登录成功后的逻辑
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=k>if</span> <span class=p>(</span><span class=nx>response</span><span class=p>.</span><span class=nx>data</span><span class=p>.</span><span class=nx>data</span><span class=p>.</span><span class=nx>roleId</span> <span class=o>===</span> <span class=mi>1</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=k>this</span><span class=p>.</span><span class=nx>$router</span><span class=p>.</span><span class=nx>push</span><span class=p>({</span> <span class=nx>name</span><span class=o>:</span> <span class=s1>&#39;students&#39;</span><span class=p>,</span> <span class=nx>params</span><span class=o>:</span> <span class=p>{</span> <span class=nx>userId</span><span class=o>:</span> <span class=nx>id</span><span class=p>,</span> <span class=nx>userName</span><span class=o>:</span> <span class=nx>response</span><span class=p>.</span><span class=nx>data</span><span class=p>.</span><span class=nx>data</span><span class=p>.</span><span class=nx>userName</span> <span class=p>}</span> <span class=p>});</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl><span class=k>else</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=k>this</span><span class=p>.</span><span class=nx>$router</span><span class=p>.</span><span class=nx>push</span><span class=p>({</span> <span class=nx>name</span><span class=o>:</span> <span class=s1>&#39;teachers&#39;</span><span class=p>,</span> <span class=nx>params</span><span class=o>:</span> <span class=p>{</span> <span class=nx>userId</span><span class=o>:</span> <span class=nx>id</span><span class=p>,</span> <span class=nx>userName</span><span class=o>:</span> <span class=nx>response</span><span class=p>.</span><span class=nx>data</span><span class=p>.</span><span class=nx>data</span><span class=p>.</span><span class=nx>userName</span> <span class=p>}</span> <span class=p>});</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></div><p>该方法需要在路由中进行设置，把需要传递的参数写到path上。同时在成功登陆后网站的URL也会出现该用户的ID和姓名。这个方法可以保证网站在该页面刷新之后信息不会丢失。但是缺点就是不太美观。</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=c1>// router/index.js
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kr>import</span> <span class=p>{</span> <span class=nx>createRouter</span><span class=p>,</span> <span class=nx>createWebHistory</span> <span class=p>}</span> <span class=nx>from</span> <span class=s1>&#39;vue-router&#39;</span>
</span></span><span class=line><span class=cl><span class=kr>import</span> <span class=nx>IndexLogin</span> <span class=nx>from</span> <span class=s1>&#39;@/views/IndexLogin.vue&#39;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kr>const</span> <span class=nx>routes</span> <span class=o>=</span> <span class=p>[</span>
</span></span><span class=line><span class=cl>  <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>path</span><span class=o>:</span> <span class=s1>&#39;/&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nx>name</span><span class=o>:</span> <span class=s1>&#39;home&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nx>component</span><span class=o>:</span> <span class=nx>IndexLogin</span>
</span></span><span class=line><span class=cl>  <span class=p>},</span>
</span></span><span class=line><span class=cl>  <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>path</span><span class=o>:</span> <span class=s1>&#39;/students/:userId/:userName&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nx>name</span><span class=o>:</span> <span class=s1>&#39;students&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nx>component</span><span class=o>:</span> <span class=p>()</span> <span class=p>=&gt;</span> <span class=kr>import</span><span class=p>(</span><span class=s1>&#39;../views/StudentPages.vue&#39;</span><span class=p>),</span>
</span></span><span class=line><span class=cl>  <span class=p>},</span>
</span></span><span class=line><span class=cl>  <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>path</span><span class=o>:</span> <span class=s1>&#39;/teachers/:userId/:userName&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nx>name</span><span class=o>:</span> <span class=s1>&#39;teachers&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nx>component</span><span class=o>:</span> <span class=p>()</span> <span class=p>=&gt;</span> <span class=kr>import</span><span class=p>(</span><span class=s1>&#39;../views/TeacherPages.vue&#39;</span><span class=p>),</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=p>},</span>
</span></span><span class=line><span class=cl><span class=p>]</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kr>const</span> <span class=nx>router</span> <span class=o>=</span> <span class=nx>createRouter</span><span class=p>({</span>
</span></span><span class=line><span class=cl>  <span class=nx>history</span><span class=o>:</span> <span class=nx>createWebHistory</span><span class=p>(</span><span class=nx>process</span><span class=p>.</span><span class=nx>env</span><span class=p>.</span><span class=nx>BASE_URL</span><span class=p>),</span>
</span></span><span class=line><span class=cl>  <span class=nx>routes</span><span class=o>:</span> <span class=nx>routes</span>
</span></span><span class=line><span class=cl><span class=p>})</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kr>export</span> <span class=k>default</span> <span class=nx>router</span>
</span></span></code></pre></div><p>改进的方法也有：</p><ol><li><p><strong>隐藏参数值：</strong></p><ul><li>如果用户ID和姓名不是敏感信息，你可以考虑对它们进行某种形式的哈希处理，以将其值隐藏在URL中。这样可以增加一定的安全性。</li></ul></li><li><p><strong>使用查询参数：</strong></p><ul><li>考虑将用户ID和姓名放在查询参数中而不是路径参数中。查询参数的形式在某种程度上可以更灵活，也可能更符合美观的设计。</li></ul><pre tabindex=0><code>plaintextCopy code
/profile?userId=123&amp;username=john_doe
</code></pre></li><li><p><strong>使用状态管理：</strong></p><ul><li>使用前端的状态管理库，例如React中的Redux，可以在不显示在URL中的情况下保持应用程序的状态。这样可以避免在URL中公开敏感信息。</li></ul></li><li><p><strong>Session 或 Cookie:</strong></p><ul><li>将用户ID和姓名存储在会话（session）中或通过Cookie进行管理。这样信息将在服务器端或客户端之间传递，而不会直接显示在URL中。</li></ul></li></ol><h3 id=element-plus-ui使用>element-plus UI使用<a hidden class=anchor aria-hidden=true href=#element-plus-ui使用>#</a></h3><p>网站的UI框架可以在很大程度上帮助我不用过多考虑样式的美观，只需要使用框架中提供好的样式就可以了。</p><h3 id=浏览器调试前端界面>浏览器调试前端界面<a hidden class=anchor aria-hidden=true href=#浏览器调试前端界面>#</a></h3><p>在浏览器控制台可以进行对应的调试，我这次主要采用的方式主要是console.log的方式进行，检查关键数据是否正确。</p><p>断点的方式也行。</p><h3 id=更换网站logo记录>更换网站logo记录<a hidden class=anchor aria-hidden=true href=#更换网站logo记录>#</a></h3><p>更换网站logo是在/public/index.html中直接设置，</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-html data-lang=html><span class=line><span class=cl><span class=c>&lt;!--更换icon为/public/favicon.ico--&gt;</span>
</span></span><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>link</span> <span class=na>rel</span><span class=o>=</span><span class=s>&#34;icon&#34;</span> <span class=na>href</span><span class=o>=</span><span class=s>&#34;&lt;%= BASE_URL %&gt;favicon.ico&#34;</span><span class=p>&gt;</span>
</span></span></code></pre></div><h3 id=json数组解析map映射直接赋值>json数组解析，map映射，直接赋值<a hidden class=anchor aria-hidden=true href=#json数组解析map映射直接赋值>#</a></h3><p>后端通过接口传递过来的数据在response.data.data中。可以把response.data打印在控制台上看他里面的结构，再进行解析。</p><p>有时候传递过来的结构体可以直接进行赋值，也可以通过map映射到结构体上，也可以通过解析json的方式进行。</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=c1>// example 1
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kr>const</span> <span class=nx>courseData</span> <span class=o>=</span> <span class=nx>response</span><span class=p>.</span><span class=nx>data</span><span class=p>.</span><span class=nx>data</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>this</span><span class=p>.</span><span class=nx>courseInfo</span> <span class=o>=</span> <span class=nx>courseData</span><span class=p>.</span><span class=nx>map</span><span class=p>((</span><span class=nx>course</span><span class=p>)</span> <span class=p>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=kr>const</span> <span class=nx>selectedCourse</span> <span class=o>=</span> <span class=nx>JSON</span><span class=p>.</span><span class=nx>parse</span><span class=p>(</span><span class=nx>course</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  <span class=k>return</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>course_id</span><span class=o>:</span> <span class=nx>selectedCourse</span><span class=p>.</span><span class=nx>course_id</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nx>course_name</span><span class=o>:</span> <span class=nx>selectedCourse</span><span class=p>.</span><span class=nx>course_name</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nx>teacher_id</span><span class=o>:</span> <span class=nx>selectedCourse</span><span class=p>.</span><span class=nx>teacher_id</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nx>teacher_name</span><span class=o>:</span> <span class=nx>selectedCourse</span><span class=p>.</span><span class=nx>teacher_name</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nx>capacity</span><span class=o>:</span> <span class=nx>selectedCourse</span><span class=p>.</span><span class=nx>capacity</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nx>selected_number</span><span class=o>:</span> <span class=nx>selectedCourse</span><span class=p>.</span><span class=nx>selected_number</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nx>time</span><span class=o>:</span> <span class=nx>selectedCourse</span><span class=p>.</span><span class=nx>time</span>
</span></span><span class=line><span class=cl>  <span class=p>};</span>
</span></span><span class=line><span class=cl><span class=p>});</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// example 2
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kr>const</span> <span class=nx>scoreData</span> <span class=o>=</span> <span class=nx>response</span><span class=p>.</span><span class=nx>data</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=k>this</span><span class=p>.</span><span class=nx>myScores</span> <span class=o>=</span> <span class=nx>scoreData</span><span class=p>.</span><span class=nx>data</span><span class=p>.</span><span class=nx>map</span><span class=p>(</span><span class=nx>score</span> <span class=p>=&gt;</span> <span class=nx>JSON</span><span class=p>.</span><span class=nx>parse</span><span class=p>(</span><span class=nx>score</span><span class=p>));</span>
</span></span></code></pre></div><h2 id=后端部分问题记录>后端部分问题记录<a hidden class=anchor aria-hidden=true href=#后端部分问题记录>#</a></h2><h3 id=maven项目构建>maven项目构建<a hidden class=anchor aria-hidden=true href=#maven项目构建>#</a></h3><p>主要不是在负责后端项目，所以对后端的一些细节不清楚。这次我们团队使用maven进行项目构建，主要的依赖和配置文件都是在pom.xml文件中，然后使用maven build等命令安装依赖让项目跑起来。</p></div><footer class=post-footer><ul class=post-tags><li><a href=https://sirius1y.top/tags/%E5%85%A8%E6%A0%88%E5%BC%80%E5%8F%91/>全栈开发</a></li><li><a href=https://sirius1y.top/tags/dev/>Dev</a></li></ul><nav class=paginav><a class=prev href=https://sirius1y.top/posts/notes/deployment/deploy-mysql-oncloud/><span class=title>« Prev</span><br><span>在云服务器上部署mysql</span>
</a><a class=next href=https://sirius1y.top/posts/notes/notes/artificial_intelligence/><span class=title>Next »</span><br><span>人工智能期末复习</span></a></nav></footer><script>function createGiscusScript(e){const t=document.createElement("script");Object.entries(e).forEach(([e,n])=>t.setAttribute(e,n)),document.querySelector("article").appendChild(t);const n=document.querySelector('label[for="switch_default"]');n&&n.addEventListener("click",function(){const e=document.body.classList.contains("dark")?"transparent_dark":"light";t.setAttribute("data-theme",e),sendMessage({setConfig:{theme:e}})})}function sendMessage(e){const t=document.querySelector("iframe.giscus-frame");t&&t.contentWindow.postMessage({giscus:e},"https://giscus.app")}document.addEventListener("DOMContentLoaded",function(){const e={src:"https://giscus.app/client.js","data-repo":"yunyit/yunyit.github.io","data-repo-id":"R_kgDOKqkPYw","data-category":"Comments","data-category-id":"DIC_kwDOKqkPY84CceDi","data-mapping":"url","data-strict":"0","data-reactions-enabled":"1","data-emit-metadata":"0","data-input-position":"top","data-lang":"en",crossorigin:"anonymous",async:""};e["data-theme"]=document.body.classList.contains("dark")?"transparent_dark":"light",createGiscusScript(e);const t=new MutationObserver(()=>{const e=document.body.classList.contains("dark")?"transparent_dark":"light";sendMessage({setConfig:{theme:e}})});t.observe(document.body,{attributes:!0,attributeFilter:["class"]})})</script></article></main><footer class=footer><span><a href=https://us.umami.is/websites/5e6ac0c1-e2b2-4d0f-9542-b79ac2cf89c4 rel="noopener noreferrer" target=_blank>Analysis</a>
</span>|
<script defer src=https://cloud.umami.is/script.js data-website-id=5e6ac0c1-e2b2-4d0f-9542-b79ac2cf89c4></script><span><a href=https://beian.miit.gov.cn/ target=_blank>渝ICP备2024018631号</a>
</span>|
<span>&copy; 2025 <a href=https://sirius1y.top/>Sirius' Blog</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg>
</a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script><script>document.querySelectorAll("pre > code").forEach(e=>{const n=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerHTML="copy";function s(){t.innerHTML="copied!",setTimeout(()=>{t.innerHTML="copy"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),s();return}const n=document.createRange();n.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(n);try{document.execCommand("copy"),s()}catch{}o.removeRange(n)}),n.classList.contains("highlight")?n.appendChild(t):n.parentNode.firstChild==n||(e.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?e.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(t):e.parentNode.appendChild(t))})</script></body></html>